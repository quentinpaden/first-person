<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/aframe-scene@1.0.3/dist/aframe-master.min.js"></script>

    
    <script src="https://cdn.jsdelivr.net/npm/aframe-camera-cube-env@1.1.0/camera-cube-env.js"></script>
    
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.0.1/dist/aframe-extras.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/aframe-touch-look-controls@1.1.0/touch-look-controls.js"></script>

    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/aframe-mouse-rotate@1.1.0/mouse-rotate.js"></script>

    
    <script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>

    <script>
      AFRAME.registerComponent('fuckbullshit', {
        init: function () {
            this.el.addEventListener("model-loaded", (e)=>{
            var obj = this.el.getObject3D('mesh');
            obj.traverse( function( object ) {

                object.frustumCulled = false;

            } );
            console.log("fuckkkkkkkkkkkkkkkkkkkkkk");
          })
        }
      });
    </script>

    <script>
      AFRAME.registerComponent('controller', {
        init: function () {
          var isMobile = /Android|webOS|iPad|iPhone|iPod/.test(navigator.platform)|| (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)
          
          if(isMobile){
            const controls = document.getElementById('Camera');
            controls.setAttribute('touch-look-controls', {
              enabled: true,
            });
          }
          else{
            const controls = document.getElementById('Camera');
            controls.setAttribute('touch-look-controls', {
              enabled: false,
            });
          }

        }
      });
    </script>
  </head>
  <body>
      <a-scene 
        renderer="antialias: true; logarithmicDepthBuffer; true;"
        physics="gravity:0; debug:true;"
        vr-mode-ui="enabled: false"
        loading-screen="enabled: false">

        
        <!----3D Skybox---->
	<a-sky 
    src=""
    id="sky" 
    material=" 
      side: back; 
      shader: skyshader; 
      sunPosition: 17 30 27;">
	</a-sky>

        <a-entity 
          id="Game_Camera" 
          position="0 0 6"
          movement-controls="speed:0.25; fly:false; constrainToNavMesh: true;"
          >
            <a-entity 
              id="Camera"
              camera 
              controller
              position="0 1 3" 
              cursor="rayOrgin:mouse; fuse:false;"
              look-controls="reverseTouchDrag: true;">
                            
                  <a-entity 
                    id="test" 
                    shadow
                    animation-mixer="clip:PlayerBlock;"
                    scale=".03 .03 .03" 
                    rotation="0 0 0" 
                    position="0 0 -.2" 
                    gltf-model="https://firebasestorage.googleapis.com/v0/b/timbre-d11e2.appspot.com/o/assets%2F6fec6ea0-06b1-42f8-8130-75cae9d43558.glb?alt=media&token=87458427-0c32-47be-90fb-cad9928888e4">
                  </a-entity>
                  <a-cursor fuse="false">
                  </a-cursor>
            </a-entity>
        </a-entity>

        <!--Game World-->
        <a-entity 
          id="World" 
          static-body="shape: box;"
          scale="4 4 4" 
          rotation="0 0 0" 
          position="0 0 4" 
          gltf-model="https://firebasestorage.googleapis.com/v0/b/timbre-d11e2.appspot.com/o/assets%2F8677a6d7-b46c-47ee-ab50-bae003b24348.glb?alt=media&token=1fb3d4a4-6b07-4c2a-8573-87d9dcbf9a14">
        </a-entity>

        <a-entity 
          id="tesut" 
          animation-mixer="Idle"
          fuckbullshit
          scale="3 3 3" 
          rotation="0 0 0" 
          position="0 0 4" 
          gltf-model="https://firebasestorage.googleapis.com/v0/b/timbre-d11e2.appspot.com/o/assets%2F0a8bbe82-e708-45b5-a836-ba02a8322914.glb?alt=media&token=2d6c8e54-fb84-4840-94dc-0af3a37cb534">
        </a-entity>
        </a-box>


        <!--Game Navigation-->
        <a-entity 
          id="NavMesh" 
          nav-mesh
          visible="true" 
          scale="5 5 5" 
          rotation="0 0 0" 
          position="0 -.8 4" 
          gltf-model="">
        </a-entity>

        <!-- Default lighting injected by A-Frame. -->
        <a-entity id="Ambient" light="type: ambient; color: #FFF; intensity: 0.9" position="5 4 3"></a-entity>
        <a-entity  id="Point" light="type: point; color: #FFF; intensity: 0.4" position="1 3 -8"></a-entity>
        <a-entity id="Direction" light="type: directional; color: #FFF; intensity: 0.3; " position="-0.5 1 1"></a-entity>
        
      </a-scene>
  </body>
</html>